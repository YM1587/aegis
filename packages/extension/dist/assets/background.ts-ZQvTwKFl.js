import{D as s}from"./index-Cfz1CtDu.js";const o="ruleset_1";chrome.runtime.onInstalled.addListener(()=>{chrome.storage.local.set({protectionStatus:s}),console.log("Aegis extension installed")});chrome.storage.onChanged.addListener(e=>{if(e.protectionStatus){const t=e.protectionStatus.newValue.isEnabled;l(t)}});async function l(e){try{await chrome.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:e?[o]:[],disableRulesetIds:e?[]:[o]}),console.log(`Blocking rules ${e?"enabled":"disabled"}`)}catch(t){console.error("Failed to update blocking rules:",t)}}
